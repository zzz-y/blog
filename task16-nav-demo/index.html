<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header></header>
<main>
  <div class="wrapper" id="main"></div>
</main>
<footer></footer>
<script>
  var keys = [
    ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    ['z', 'x', 'c', 'v', 'b', 'n', 'm']
  ];
  var hash = {
    q: 'qq.com',
    w: 'weibo.com',
    e: 'ele.me',
    r: 'renren.com',
    t: 'www.tianya.cn',
    y: 'youtube.com',
    u: 'uc.cn',
    i: 'iqiyi.com',
    o: 'opera.com',
    /*p: undefined,*/
    a: 'www.acfun.cn',
    s: 'sohu.com',
    /*d: undefined,
    f: undefined,
    g: undefined,
    h: undefined,
    j: undefined,*/
    k: 'www.kfc.com.cn',
    /*l: undefined,*/
    z: 'zhihu.com',
    /*x: undefined,
    c: undefined,
    v: undefined,*/
    b: 'bilibili.com',
    /*n: undefined,*/
    m: 'www.mcdonalds.com.cn'
  };
  // 取出 localStorage 中的 zz 对应的hash
  var hashInLocalStorage = JSON.parse(localStorage.getItem('zz') || 'null');
  if (hashInLocalStorage) {
    hash = hashInLocalStorage;
  }
  for (var i = 0; i < keys.length; i++) {
    var div1 = document.createElement('div');
    main.appendChild(div1);
    for (var j = 0; j < keys[i].length; j++) {
      var kbd = document.createElement('kbd');
      kbd.textContent = keys[i][j];
      var btn = document.createElement('button');
      btn.textContent = '编辑';
      btn.id = keys[i][j];
      btn.onclick = function (e) {
        var key = e.target.id;
        hash[key] = prompt('给我一个网址');
        localStorage.setItem('zz', JSON.stringify(hash));
      };
      kbd.appendChild(btn);
      div1.appendChild(kbd);
    }
  }

  document.onkeypress = function (d) {
    var key = d.key;
    var website = hash[key];
    window.open('http://' + website);
  }
</script>
</body>
</html>